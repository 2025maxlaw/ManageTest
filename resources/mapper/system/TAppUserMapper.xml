<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.system.mapper.TAppUserMapper">
    
    <resultMap type="TAppUser" id="TAppUserResult">
        <result property="userId"    column="user_id"    />
        <result property="loginName"    column="login_name"    />
        <result property="loginPassword"    column="login_password"    />
        <result property="phone"    column="phone"    />
        <result property="isTest"    column="is_test"    />
        <result property="salt"    column="salt"    />
        <result property="address"    column="address"    />
        <result property="walletType"    column="wallet_type"    />
        <result property="status"    column="status"    />
        <result property="totleAmont"    column="totle_amont"    />
        <result property="buff"    column="buff"    />
        <result property="tree"    column="tree"    />
        <result property="fatherAddr"    column="father_addr"    />
        <result property="fatherId"    column="father_id"    />
        <result property="activeCode"    column="active_code"    />
        <result property="registerIp"    column="register_ip"    />
        <result property="host"    column="host"    />
        <result property="systemUserId"    column="system_user_id"    />
        <result property="email"    column="email"    />
        <result property="level"    column="level"    />
        <result property="createBy"    column="create_by"    />
        <result property="createTime"    column="create_time"    />
        <result property="updateBy"    column="update_by"    />
        <result property="updateTime"    column="update_time"    />
        <result property="remark"    column="remark"    />
        <result property="searchValue"    column="search_value"    />
    </resultMap>

    <sql id="selectTAppUserVo">
        select user_id, login_name, login_password, phone, is_test, salt, address, wallet_type, status, totle_amont, buff, tree, father_addr, father_id, active_code, register_ip, host, system_user_id, email, level, create_by, create_time, update_by, update_time, remark, search_value from t_app_user
    </sql>

    <select id="selectTAppUserList" parameterType="TAppUser" resultMap="TAppUserResult">
        <include refid="selectTAppUserVo"/>
        <where>  
            <if test="loginName != null  and loginName != ''"> and login_name like concat('%', #{loginName}, '%')</if>
            <if test="loginPassword != null  and loginPassword != ''"> and login_password = #{loginPassword}</if>
            <if test="phone != null  and phone != ''"> and phone = #{phone}</if>
            <if test="isTest != null "> and is_test = #{isTest}</if>
            <if test="salt != null  and salt != ''"> and salt = #{salt}</if>
            <if test="address != null  and address != ''"> and address = #{address}</if>
            <if test="walletType != null  and walletType != ''"> and wallet_type = #{walletType}</if>
            <if test="status != null "> and status = #{status}</if>
            <if test="totleAmont != null "> and totle_amont = #{totleAmont}</if>
            <if test="buff != null "> and buff = #{buff}</if>
            <if test="tree != null  and tree != ''"> and tree = #{tree}</if>
            <if test="fatherAddr != null  and fatherAddr != ''"> and father_addr = #{fatherAddr}</if>
            <if test="fatherId != null "> and father_id = #{fatherId}</if>
            <if test="activeCode != null  and activeCode != ''"> and active_code = #{activeCode}</if>
            <if test="registerIp != null  and registerIp != ''"> and register_ip = #{registerIp}</if>
            <if test="host != null  and host != ''"> and host = #{host}</if>
            <if test="systemUserId != null "> and system_user_id = #{systemUserId}</if>
            <if test="email != null  and email != ''"> and email = #{email}</if>
            <if test="level != null "> and level = #{level}</if>
            <if test="searchValue != null  and searchValue != ''"> and search_value = #{searchValue}</if>
        </where>
    </select>
    
    <select id="selectTAppUserByUserId" parameterType="Long" resultMap="TAppUserResult">
        <include refid="selectTAppUserVo"/>
        where user_id = #{userId}
    </select>
        
    <insert id="insertTAppUser" parameterType="TAppUser" useGeneratedKeys="true" keyProperty="userId">
        insert into t_app_user
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="loginName != null">login_name,</if>
            <if test="loginPassword != null">login_password,</if>
            <if test="phone != null">phone,</if>
            <if test="isTest != null">is_test,</if>
            <if test="salt != null">salt,</if>
            <if test="address != null">address,</if>
            <if test="walletType != null">wallet_type,</if>
            <if test="status != null">status,</if>
            <if test="totleAmont != null">totle_amont,</if>
            <if test="buff != null">buff,</if>
            <if test="tree != null">tree,</if>
            <if test="fatherAddr != null">father_addr,</if>
            <if test="fatherId != null">father_id,</if>
            <if test="activeCode != null and activeCode != ''">active_code,</if>
            <if test="registerIp != null">register_ip,</if>
            <if test="host != null">host,</if>
            <if test="systemUserId != null">system_user_id,</if>
            <if test="email != null">email,</if>
            <if test="level != null">level,</if>
            <if test="createBy != null">create_by,</if>
            <if test="createTime != null">create_time,</if>
            <if test="updateBy != null">update_by,</if>
            <if test="updateTime != null">update_time,</if>
            <if test="remark != null">remark,</if>
            <if test="searchValue != null">search_value,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="loginName != null">#{loginName},</if>
            <if test="loginPassword != null">#{loginPassword},</if>
            <if test="phone != null">#{phone},</if>
            <if test="isTest != null">#{isTest},</if>
            <if test="salt != null">#{salt},</if>
            <if test="address != null">#{address},</if>
            <if test="walletType != null">#{walletType},</if>
            <if test="status != null">#{status},</if>
            <if test="totleAmont != null">#{totleAmont},</if>
            <if test="buff != null">#{buff},</if>
            <if test="tree != null">#{tree},</if>
            <if test="fatherAddr != null">#{fatherAddr},</if>
            <if test="fatherId != null">#{fatherId},</if>
            <if test="activeCode != null and activeCode != ''">#{activeCode},</if>
            <if test="registerIp != null">#{registerIp},</if>
            <if test="host != null">#{host},</if>
            <if test="systemUserId != null">#{systemUserId},</if>
            <if test="email != null">#{email},</if>
            <if test="level != null">#{level},</if>
            <if test="createBy != null">#{createBy},</if>
            <if test="createTime != null">#{createTime},</if>
            <if test="updateBy != null">#{updateBy},</if>
            <if test="updateTime != null">#{updateTime},</if>
            <if test="remark != null">#{remark},</if>
            <if test="searchValue != null">#{searchValue},</if>
         </trim>
    </insert>

    <update id="updateTAppUser" parameterType="TAppUser">
        update t_app_user
        <trim prefix="SET" suffixOverrides=",">
            <if test="loginName != null">login_name = #{loginName},</if>
            <if test="loginPassword != null">login_password = #{loginPassword},</if>
            <if test="phone != null">phone = #{phone},</if>
            <if test="isTest != null">is_test = #{isTest},</if>
            <if test="salt != null">salt = #{salt},</if>
            <if test="address != null">address = #{address},</if>
            <if test="walletType != null">wallet_type = #{walletType},</if>
            <if test="status != null">status = #{status},</if>
            <if test="totleAmont != null">totle_amont = #{totleAmont},</if>
            <if test="buff != null">buff = #{buff},</if>
            <if test="tree != null">tree = #{tree},</if>
            <if test="fatherAddr != null">father_addr = #{fatherAddr},</if>
            <if test="fatherId != null">father_id = #{fatherId},</if>
            <if test="activeCode != null and activeCode != ''">active_code = #{activeCode},</if>
            <if test="registerIp != null">register_ip = #{registerIp},</if>
            <if test="host != null">host = #{host},</if>
            <if test="systemUserId != null">system_user_id = #{systemUserId},</if>
            <if test="email != null">email = #{email},</if>
            <if test="level != null">level = #{level},</if>
            <if test="createBy != null">create_by = #{createBy},</if>
            <if test="createTime != null">create_time = #{createTime},</if>
            <if test="updateBy != null">update_by = #{updateBy},</if>
            <if test="updateTime != null">update_time = #{updateTime},</if>
            <if test="remark != null">remark = #{remark},</if>
            <if test="searchValue != null">search_value = #{searchValue},</if>
        </trim>
        where user_id = #{userId}
    </update>

    <delete id="deleteTAppUserByUserId" parameterType="Long">
        delete from t_app_user where user_id = #{userId}
    </delete>

    <delete id="deleteTAppUserByUserIds" parameterType="String">
        delete from t_app_user where user_id in 
        <foreach item="userId" collection="array" open="(" separator="," close=")">
            #{userId}
        </foreach>
    </delete>
</mapper>